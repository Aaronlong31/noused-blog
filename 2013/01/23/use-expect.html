<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>expect 用法小记</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/pygments/highlight.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
</head>
<body data-spy="scroll" data-target=".bs_docs_sidebar">
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a href="/index.html" class="brand">Aaron's Blog</a>
                <div class="nav-collapse collapse">
                    <ul class="nav">
                        <li><a href="/index.html">Home</a></li>
                        <li><a href="/tags">Tags</a></li>
                        <li><a href="/topics">Topics</a></li>
                    </ul> 
                </div>
            </div>
        </div>
    </div>
    <header class="jumbotron subhead">
        <a href="https://github.com/Aaronlong31/aaronlong31.github.com" id="forkme_banner">View on GitHub</a>
    <div class="container">
        <h1>expect 用法小记</h1>
        
        <p class="lead">使用expect实现交互式登录。</p>
        
    </div>
    </header>
    <div class="container">
    <h3>安装expect</h3>

<p>ubuntu 下默认没有安装expect， 所以需要安装。还有spawn命令需要安装tcl。</p>

<div class="highlight"><pre><code class="sh">sudo apt-get install tcl tk expect
</code></pre></div>


<h3>脚本如下：</h3>

<div class="highlight"><pre><code class="sh"><span class="c">#!/usr/bin/expect</span>
<span class="nb">set </span>timeout 30
<span class="nb">set pwd</span> <span class="s2">&quot;yourpassword&quot;</span>
spawn ssh serverip
expect <span class="s2">&quot;Password:&quot;</span>
send <span class="s2">&quot;$pwd\r&quot;</span>
interact
</code></pre></div>



 
    </div>
    <footer class="footer">
    <div class="container">
        <p>Maintained by <a href="https://github.com/Aaronlong31">Aaronlong31</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
    </div>
    </footer>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'aaronlong31'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
     var s = document.createElement('script'); s.async = true;
     s.type = 'text/javascript';
     s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
     (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
     }());
</script>

</body>
</html>
